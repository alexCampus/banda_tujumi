<VirtualHost *:80>

    ### VARIABLES ### CHANGER OBLIGATOIREMENT LES PARTIES A_MAJ des deux variables server_name et basedocroot
        # Nom de domaine principal, si vous avez des alias a definir, le faire dans la partie ESPACE LIBRE

        Define server_name test.local
        # Chemin du répertoire de l'hebergement
        Define basedocroot  /home/wwwroot/test-tujumi
        # Chemin du répertoire qui contient les sources
        Define docrootweb   ${basedocroot}/blog/public
        # Chemin du répertoire qui contient les logs
        Define logdir   /var/log/apache2/

    ### PHP ###
        # /!\ Commenter cette directive si le site ne fait pas de PHP !
        <FilesMatch .php$>
         SetHandler "proxy:fcgi://test_tujumi_php:9000"
        </FilesMatch>


    ### CONF STANDARD ###
        ServerName ${server_name}
        DocumentRoot ${docrootweb}
        ErrorLog ${logdir}/error.log
        CustomLog ${logdir}/access.log Combined


    ### ESPACE LIBRE POUR AJOUTER DES DIRECTIVES ###
        <Directory ${docrootweb}>
            # enable the .htaccess rewrites
            RewriteEngine On
            #RewriteBase /path/to/app
            RewriteCond %{REQUEST_FILENAME} !-d
            RewriteCond %{REQUEST_FILENAME} !-f
            RewriteRule ^ index.php [QSA,L]
            AllowOverride All
            Require all granted
        </Directory>

      ### CLEAN VARIABLES ###  Il n'est possible de faire que des variables globales, il est donc primordiale de les clean en fin de config
        Undefine server_name
        Undefine basedocroot
        Undefine docrootweb
        Undefine logdir

</VirtualHost>